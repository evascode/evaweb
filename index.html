<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <span id="userGreeting"></span>
        <button id="authButton">Log In</button>
        <a href="register.html" class="register-button">Register</a>
    </nav>    
    

    <div class="profile-section">
        <div class="profile-pic" id="profilePic">
            <span>No Profile Picture</span>
        </div>
        <p class="profile-name">User Name</p>
        <button class="contact-button" onclick="location.href='contact.html';">
            Contact Her
        </button>
    </div>
    <div class="profile-pic" id="profilePic">
        <span>No Profile Picture</span>
    </div>
    
    <div class="posts-section">
        <h2>Main Posts</h2>
    </div>

    <script>
        // Login/Logout Logic
        const loggedInUser = localStorage.getItem('loggedInUser');
        const userGreeting = document.getElementById('userGreeting');
        const authButton = document.getElementById('authButton');

        if (loggedInUser) {
            userGreeting.textContent = `Welcome, ${loggedInUser}!`;
            authButton.textContent = "Log Out";

            authButton.addEventListener('click', () => {
                localStorage.removeItem('loggedInUser');
                alert('You have logged out successfully!');
                window.location.href = 'login.html';
            });
        } else {
            userGreeting.textContent = "Welcome, Guest!";
            authButton.textContent = "Log In";

            authButton.addEventListener('click', () => {
                window.location.href = 'login.html';
            });
        }

        // Display Posts Dynamically
        const posts = JSON.parse(localStorage.getItem('posts') || '[]');
        const postsSection = document.querySelector('.posts-section');
        posts.forEach(post => {
            const newPost = document.createElement('div');
            newPost.classList.add('post');
            newPost.innerHTML = `
                <h3>${post.title}</h3>
                <p>${post.content}</p>
            `;
            postsSection.appendChild(newPost);
            if (posts.length === 0) {
    postsSection.innerHTML = '<p>No posts to display.</p>';
}

        });

    </script>

    <script>
    const profilePic = document.getElementById('profilePic');
    const storedProfilePic = localStorage.getItem('profilePic');

    if (storedProfilePic) {
        profilePic.innerHTML = `<img src="${storedProfilePic}" alt="Profile Picture">`;
    }
</script>
</body>
</html>
